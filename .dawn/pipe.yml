init:
  - name: pkginfo

webpack: &webpack
  env: production
  common:
    disabled: true
  sourceMap: false
  external: false

dev:
  - name: webpack
    entry: ./src/index.js
    watch: true
  - name: server
    port: 7001

build:
  - name: call
    pipe: test
  - name: clean
  - name: webpack
    <<: *webpack
    entry: ./src/index.js
    output: ./build/web
    folders:
      js: ./assets/js
      css: ./assets/css
      font: ./assets/font
  - name: webpack
    <<: *webpack
    entry: ./src/App.js
    output: ./build/renderer
    folders:
      js: ./
      css: ./
    template: none

test:
  - name: lint
  - name: unit

publish:
  - name: call
    pipe: build
  - name: autoversion
  - name: shell
    script:
      - npm pu